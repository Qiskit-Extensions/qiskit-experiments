---
upgrade:
  - |
    :attr:`CurveAnalysis.draw_options` and :meth:`CurveAnalysis.set_draw_options` have been added.
    Previously, curve analysis options contain many drawing options that is not
    relevant to the curve fitting. The drawing relevant options are now excluded from the
    analysis options, and moved to draw options. This separation makes it easier to
    find analysis options and offers better control of output curve drawing.
  - |
    Curve analysis option ``curve_plotter`` has been removed. To use non-Matplotlib drawer backend,
    one must override protected drawing methods. See :class:`CurveDrawerMixin` for details.
deprecations:
  - |
    Curve analysis drawer module :mod:`qiskit_experiments.curve_analysis.visualization`
    has been deprecated. This involves :class:`MplDrawSingleCanvas`,
    :class:`MplDrawMultiCanvasVstack` and the stylesheet :class:`PlotterStyle`.
    Now these classes are integrated into :class:`CurveAnalysis` as a mixin.
developer:
  - |
    Curve drawer functions separately implemented from the :class:`CurveAnalysis` in
    :mod:`qiskit_experiments.curve_analysis.visualization` have been deprecated.
    These functions had been attached to the analysis instance as a part of analysis options,
    which hurts readability and maintenability of the drawer code,
    and the code packed in a single python function is not reusable.
    In addition, this implementation was problematic due to dependency on the
    raw data points saved in an instance variable. See qiskit-experiments/#737 for details.
    Now drawing functionality is re-implemented as mixed-in class of the
    :class:`CurveAnalysis` (:class:`CurveDrawerMixin`).
    A developer of curve analysis subclass must set drawer relevant options to
    :meth:`CurveAnalysis._default_drawing_options` rather
    than conventional :meth:`CurveAnalysis._defalt_options`.
  - |
    The use of multi-axis curve plotter :class:`MplDrawMultiCanvasVstack` has been deprecated.
    Now drawer option takes ``subplots`` which is a tuple of two integer representing
    ``(n_rows, n_cols)`` that defines arbitrary 2D array subplots.
